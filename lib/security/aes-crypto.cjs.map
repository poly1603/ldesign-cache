{"version":3,"file":"aes-crypto.cjs","sources":["../../src/security/aes-crypto.ts"],"sourcesContent":[null],"names":["AESCrypto","constructor","config","Object","defineProperty","enabled","algorithm","secretKey","customEncrypt","customDecrypt","isAvailable","window","crypto","initializeKey","cryptoKey","keyData","TextEncoder","encode","hashBuffer","subtle","digest","importKey","name","error","console","Error","encrypt","data","encryptAES","encodeBase64","decrypt","decryptAES","decodeBase64","encoder","dataBuffer","iv","getRandomValues","Uint8Array","encryptedBuffer","combined","length","byteLength","set","arrayBufferToBase64","buffer","base64ToArrayBuffer","slice","encryptedData","decryptedBuffer","decoder","TextDecoder","decode","message","includes","bytes","binary","i","String","fromCharCode","btoa","unescape","encodeURIComponent","fallbackError","atob","charCodeAt","decodeURIComponent","escape","base64","updateConfig","getConfig"],"mappings":"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"}