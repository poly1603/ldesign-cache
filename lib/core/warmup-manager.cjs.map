{"version":3,"file":"warmup-manager.cjs","sources":["../../src/core/warmup-manager.ts"],"sourcesContent":[null],"names":["WarmupManager","constructor","cache","config","Object","defineProperty","value","Map","concurrency","timeout","retries","retryDelay","continueOnError","register","item","items","Array","isArray","i","warmupItems","set","key","unregister","keys","k","delete","warmup","running","Error","startTime","Date","now","result","successful","failed","duration","stats","total","success","skipped","itemsToWarmup","getItemsToWarmup","length","sortedItems","sortByPriority","orderedItems","resolveDependencies","processBatches","map","get","filter","undefined","from","values","sort","a","b","priority","resolved","visited","Set","visiting","visit","has","add","dependencies","dep","depItem","find","push","batch","slice","Promise","all","processItem","maxRetries","existing","data","fetchWithTimeout","fetcher","options","error","String","delay","race","resolve","_","reject","setTimeout","ms","getStatus","itemCount","size","clear","createWarmupManager"],"mappings":"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"}