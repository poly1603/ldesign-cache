{"version":3,"file":"performance-monitor.cjs","sources":["../../src/core/performance-monitor.ts"],"sourcesContent":[null],"names":["PerformanceMonitor","constructor","options","Object","defineProperty","value","EventEmitter","enabled","slowThreshold","maxRecords","samplingRate","detailed","collector","startMeasure","startTime","performance","now","end","success","error","duration","shouldRecord","metrics","operation","message","timestamp","Date","record","measure","fn","context","result","Error","String","length","shift","push","emitter","emit","Math","random","getStats","filter","filtered","m","engine","since","totalOperations","successCount","failureCount","averageDuration","minDuration","maxDuration","totalDataSize","operationDistribution","engineDistribution","slowOperations","durations","map","reduce","sum","dataSize","forEach","a","b","min","max","getPercentiles","percentiles","sort","fromEntries","p","index","ceil","clear","export","import","on","event","listener","off","generateReport","stats","toISOString","toFixed","entries","k","v","join","slice","key","trim"],"mappings":";;;;;;;;;;;;;;;;;;MA0FaA,kBAAAA,CAAkB;AAAA,EAK7BC,WAAAA,CAAYC,OAAAA,GAAqC,EAAA,EAAE;AAJ3CC,IAAAA,MAAAA,CAAAC,cAAAA,CAAA,MAAA,SAAA,EAAA;AAAA;;;aAAgC;AAAA,KAAE,CAAA;AACzBD,IAAAA,MAAAA,CAAAC,cAAAA,CAAA,MAAA,SAAA,EAAA;AAAA;;;MAAUC,KAAAA,EAAA,IAAIC,yBAAAA;AAAY,KAAsB,CAAA;AAChDH,IAAAA,MAAAA,CAAAC,cAAAA,CAAA,MAAA,SAAA,EAAA;AAAA;;;;KAA4C,CAAA;AAG3D,IAAA,IAAA,CAAKF,OAAAA,GAAU;AAAA,MACbK,OAAAA,EAASL,QAAQK,OAAAA,IAAW,IAAA;AAAA,MAC5BC,aAAAA,EAAeN,QAAQM,aAAAA,IAAiB,GAAA;AAAA,MACxCC,UAAAA,EAAYP,QAAQO,UAAAA,IAAc,GAAA;AAAA,MAClCC,YAAAA,EAAcR,QAAQQ,YAAAA,IAAgB,CAAA;AAAA,MACtCC,QAAAA,EAAUT,QAAQS,QAAAA,IAAY,KAAA;AAAA,MAC9BC,SAAAA,EAAWV,OAAAA,CAAQU,SAAAA,KAAc,MAAK;AAAA,MAAE,CAAA;AAAA;EAE5C;AAAA;AAAA;AAAA;AAAA,EAKAC,YAAAA,GAAY;AACV,IAAA,MAAMC,SAAAA,GAAYC,YAAYC,GAAAA;AAE9B,IAAA,OAAO;AAAA,MACLC,GAAAA,EAAKA,CAACC,OAAAA,EAAkBC,KAAAA,KAAiB;AACvC,QAAA,MAAMC,QAAAA,GAAWL,WAAAA,CAAYC,GAAAA,EAAG,GAAKF,SAAAA;AAErC,QAAA,IAAI,IAAA,CAAKO,cAAY,EAAI;AACvB,UAAA,MAAMC,OAAAA,GAA8B;AAAA,YAClCC,SAAAA,EAAW,SAAA;AAAA,YACXH,QAAAA;AAAAA,YACAF,OAAAA;AAAAA,YACAC,OAAOA,KAAAA,EAAOK,OAAAA;AAAAA,YACdC,SAAAA,EAAWC,KAAKV,GAAAA;AAAG;AAGrB,UAAA,IAAA,CAAKW,OAAOL,OAAO,CAAA;AAAA,QACrB;AAAA,MACF;AAAA;EAEJ;AAAA;AAAA;AAAA;AAAA,EAKA,MAAMM,OAAAA,CACJL,SAAAA,EACAM,EAAAA,EACAC,OAAAA,EAIC;AAED,IAAA,IAAI,CAAC,IAAA,CAAK5B,OAAAA,CAAQK,WAAW,CAAC,IAAA,CAAKc,cAAY,EAAI;AACjD,MAAA,OAAOQ,EAAAA;IACT;AAEA,IAAA,MAAMf,SAAAA,GAAYC,YAAYC,GAAAA;AAE9B,IAAA,IAAI;AACF,MAAA,MAAMe,MAAAA,GAAS,MAAMF,EAAAA;AACrB,MAAA,MAAMT,QAAAA,GAAWL,WAAAA,CAAYC,GAAAA,EAAG,GAAKF,SAAAA;AAErC,MAAA,IAAA,CAAKa,MAAAA,CAAO;AAAA,QACVJ,SAAAA;AAAAA,QACAH,QAAAA;AAAAA,QACAF,OAAAA,EAAS,IAAA;AAAA,QACTO,SAAAA,EAAWC,KAAKV,GAAAA,EAAG;AAAA,QACnB,GAAGc;AAAAA,OACJ,CAAA;AAED,MAAA,OAAOC,MAAAA;AAAAA,IACT,SACOZ,KAAAA,EAAO;AACZ,MAAA,MAAMC,QAAAA,GAAWL,WAAAA,CAAYC,GAAAA,EAAG,GAAKF,SAAAA;AAErC,MAAA,IAAA,CAAKa,MAAAA,CAAO;AAAA,QACVJ,SAAAA;AAAAA,QACAH,QAAAA;AAAAA,QACAF,OAAAA,EAAS,KAAA;AAAA,QACTC,OAAOA,KAAAA,YAAiBa,KAAAA,GAAQb,KAAAA,CAAMK,OAAAA,GAAUS,OAAOd,KAAK,CAAA;AAAA,QAC5DM,SAAAA,EAAWC,KAAKV,GAAAA,EAAG;AAAA,QACnB,GAAGc;AAAAA,OACJ,CAAA;AAED,MAAA,MAAMX,KAAAA;AAAAA,IACR;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKAQ,OAAOL,OAAAA,EAA2B;AAChC,IAAA,IAAI,CAAC,IAAA,CAAKpB,OAAAA,CAAQK,OAAAA,EAAS;AAAE,MAAA;AAAA,IAAO;AAGpC,IAAA,IAAI,IAAA,CAAKe,OAAAA,CAAQY,MAAAA,IAAU,IAAA,CAAKhC,QAAQO,UAAAA,EAAY;AAClD,MAAA,IAAA,CAAKa,QAAQa,KAAAA;IACf;AAEA,IAAA,IAAA,CAAKb,OAAAA,CAAQc,KAAKd,OAAO,CAAA;AAGzB,IAAA,IAAIA,OAAAA,CAAQF,QAAAA,GAAW,IAAA,CAAKlB,OAAAA,CAAQM,aAAAA,EAAe;AACjD,MAAA,IAAA,CAAK6B,OAAAA,CAAQC,IAAAA,CAAK,MAAA,EAAQhB,OAAO,CAAA;AAAA,IACnC;AAGA,IAAA,IAAA,CAAKpB,OAAAA,CAAQU,UAAUU,OAAO,CAAA;AAG9B,IAAA,IAAA,CAAKe,OAAAA,CAAQC,IAAAA,CAAK,SAAA,EAAWhB,OAAO,CAAA;AAAA,EACtC;AAAA;AAAA;AAAA;AAAA,EAKQD,YAAAA,GAAY;AAClB,IAAA,OAAOkB,IAAAA,CAAKC,MAAAA,EAAM,GAAK,IAAA,CAAKtC,OAAAA,CAAQQ,YAAAA;AAAAA,EACtC;AAAA;AAAA;AAAA;AAAA,EAKA+B,SAASC,MAAAA,EAIR;AACC,IAAA,IAAIC,WAAW,IAAA,CAAKrB,OAAAA;AAEpB,IAAA,IAAIoB,MAAAA,EAAQ;AACVC,MAAAA,QAAAA,GAAW,IAAA,CAAKrB,OAAAA,CAAQoB,MAAAA,CAAQE,CAAAA,CAAAA,KAAK;AACnC,QAAA,IAAIF,MAAAA,CAAOnB,SAAAA,IAAaqB,CAAAA,CAAErB,SAAAA,KAAcmB,OAAOnB,SAAAA,EAAW;AAAE,UAAA,OAAO,KAAA;AAAA,QAAM;AACzE,QAAA,IAAImB,MAAAA,CAAOG,MAAAA,IAAUD,CAAAA,CAAEC,MAAAA,KAAWH,OAAOG,MAAAA,EAAQ;AAAE,UAAA,OAAO,KAAA;AAAA,QAAM;AAChE,QAAA,IAAIH,MAAAA,CAAOI,KAAAA,IAASF,CAAAA,CAAEnB,SAAAA,GAAYiB,OAAOI,KAAAA,EAAO;AAAE,UAAA,OAAO,KAAA;AAAA,QAAM;AAC/D,QAAA,OAAO,IAAA;AAAA,MACT,CAAC,CAAA;AAAA,IACH;AAEA,IAAA,IAAIH,QAAAA,CAAST,WAAW,CAAA,EAAG;AACzB,MAAA,OAAO;AAAA,QACLa,eAAAA,EAAiB,CAAA;AAAA,QACjBC,YAAAA,EAAc,CAAA;AAAA,QACdC,YAAAA,EAAc,CAAA;AAAA,QACdC,eAAAA,EAAiB,CAAA;AAAA,QACjBC,WAAAA,EAAa,CAAA;AAAA,QACbC,WAAAA,EAAa,CAAA;AAAA,QACbC,aAAAA,EAAe,CAAA;AAAA,QACfC,uBAAuB,EAAA;AAAA,QACvBC,oBAAoB,EAAA;AAAA,QACpBC,gBAAgB;AAAA;IAEpB;AAEA,IAAA,MAAMR,eAAeL,QAAAA,CAASD,MAAAA,CAAOE,CAAAA,CAAAA,KAAKA,CAAAA,CAAE1B,OAAO,CAAA,CAAEgB,MAAAA;AACrD,IAAA,MAAMe,eAAeN,QAAAA,CAASD,MAAAA,CAAOE,OAAK,CAACA,CAAAA,CAAE1B,OAAO,CAAA,CAAEgB,MAAAA;AACtD,IAAA,MAAMuB,SAAAA,GAAYd,QAAAA,CAASe,GAAAA,CAAId,CAAAA,CAAAA,KAAKA,EAAExB,QAAQ,CAAA;AAC9C,IAAA,MAAMiC,aAAAA,GAAgBV,QAAAA,CAASgB,MAAAA,CAAO,CAACC,GAAAA,EAAKhB,MAAMgB,GAAAA,IAAOhB,CAAAA,CAAEiB,QAAAA,IAAY,CAAA,CAAA,EAAI,CAAC,CAAA;AAG5E,IAAA,MAAMP,wBAAgD,EAAA;AACtDX,IAAAA,QAAAA,CAASmB,QAASlB,CAAAA,CAAAA,KAAK;AACrBU,MAAAA,qBAAAA,CAAsBV,EAAErB,SAAS,CAAA,GAAA,CAAK+B,sBAAsBV,CAAAA,CAAErB,SAAS,KAAK,CAAA,IAAK,CAAA;AAAA,IACnF,CAAC,CAAA;AAGD,IAAA,MAAMgC,qBAAoD,EAAA;AAC1DZ,IAAAA,QAAAA,CAASmB,QAASlB,CAAAA,CAAAA,KAAK;AACrB,MAAA,IAAIA,EAAEC,MAAAA,EAAQ;AACZU,QAAAA,kBAAAA,CAAmBX,EAAEC,MAAM,CAAA,GAAA,CAAKU,mBAAmBX,CAAAA,CAAEC,MAAM,KAAK,CAAA,IAAK,CAAA;AAAA,MACvE;AAAA,IACF,CAAC,CAAA;AAGD,IAAA,MAAMW,cAAAA,GAAiBb,SAASD,MAAAA,CAAOE,CAAAA,CAAAA,KAAKA,EAAExB,QAAAA,GAAW,IAAA,CAAKlB,QAAQM,aAAa,CAAA;AAEnF,IAAA,OAAO;AAAA,MACLuC,iBAAiBJ,QAAAA,CAAST,MAAAA;AAAAA,MAC1Bc,YAAAA;AAAAA,MACAC,YAAAA;AAAAA,MACAC,eAAAA,EAAiBO,SAAAA,CAAUE,MAAAA,CAAO,CAACI,CAAAA,EAAGC,MAAMD,CAAAA,GAAIC,CAAAA,EAAG,CAAC,CAAA,GAAIP,SAAAA,CAAUvB,MAAAA;AAAAA,MAClEiB,WAAAA,EAAaZ,IAAAA,CAAK0B,GAAAA,CAAI,GAAGR,SAAS,CAAA;AAAA,MAClCL,WAAAA,EAAab,IAAAA,CAAK2B,GAAAA,CAAI,GAAGT,SAAS,CAAA;AAAA,MAClCJ,aAAAA;AAAAA,MACAC,qBAAAA;AAAAA,MACAC,kBAAAA;AAAAA,MACAC;AAAAA;EAEJ;AAAA;AAAA;AAAA;AAAA,EAKAW,cAAAA,CAAeC,cAAwB,CAAC,EAAA,EAAI,IAAI,EAAA,EAAI,EAAA,EAAI,EAAE,CAAA,EAAC;AACzD,IAAA,MAAMX,SAAAA,GAAY,IAAA,CAAKnC,OAAAA,CAAQoC,GAAAA,CAAId,CAAAA,CAAAA,KAAKA,CAAAA,CAAExB,QAAQ,CAAA,CAAEiD,IAAAA,CAAK,CAACN,CAAAA,EAAGC,CAAAA,KAAMD,IAAIC,CAAC,CAAA;AAExE,IAAA,IAAIP,SAAAA,CAAUvB,WAAW,CAAA,EAAG;AAC1B,MAAA,OAAO/B,MAAAA,CAAOmE,WAAAA,CAAYF,WAAAA,CAAYV,GAAAA,CAAIa,CAAAA,CAAAA,KAAK,CAAC,CAAA,CAAA,EAAIA,CAAC,CAAA,CAAA,EAAI,CAAC,CAAC,CAAC,CAAA;AAAA,IAC9D;AAEA,IAAA,MAAMxC,SAAiC,EAAA;AAEvCqC,IAAAA,WAAAA,CAAYN,QAASS,CAAAA,CAAAA,KAAK;AACxB,MAAA,MAAMC,QAAQjC,IAAAA,CAAKkC,IAAAA,CAAMF,IAAI,GAAA,GAAOd,SAAAA,CAAUvB,MAAM,CAAA,GAAI,CAAA;AACxDH,MAAAA,MAAAA,CAAO,CAAA,CAAA,EAAIwC,CAAC,CAAA,CAAE,CAAA,GAAId,UAAUlB,IAAAA,CAAK2B,GAAAA,CAAI,CAAA,EAAGM,KAAK,CAAC,CAAA;AAAA,IAChD,CAAC,CAAA;AAED,IAAA,OAAOzC,MAAAA;AAAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKA2C,KAAAA,GAAK;AACH,IAAA,IAAA,CAAKpD,UAAU,EAAA;AAAA,EACjB;AAAA;AAAA;AAAA;AAAA,EAKAqD,MAAAA,GAAM;AACJ,IAAA,OAAO,CAAC,GAAG,IAAA,CAAKrD,OAAO,CAAA;AAAA,EACzB;AAAA;AAAA;AAAA;AAAA,EAKAsD,OAAOtD,OAAAA,EAA6B;AAClC,IAAA,IAAA,CAAKA,OAAAA,CAAQc,IAAAA,CAAK,GAAGd,OAAO,CAAA;AAG5B,IAAA,OAAO,IAAA,CAAKA,OAAAA,CAAQY,MAAAA,GAAS,IAAA,CAAKhC,QAAQO,UAAAA,EAAY;AACpD,MAAA,IAAA,CAAKa,QAAQa,KAAAA;IACf;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA0C,EAAAA,CAAGC,OAA2BC,QAAAA,EAA+C;AAC3E,IAAA,IAAA,CAAK1C,OAAAA,CAAQwC,EAAAA,CAAGC,KAAAA,EAAOC,QAAQ,CAAA;AAAA,EACjC;AAAA;AAAA;AAAA;AAAA,EAKAC,GAAAA,CAAIF,OAA2BC,QAAAA,EAA+C;AAC5E,IAAA,IAAA,CAAK1C,OAAAA,CAAQ2C,GAAAA,CAAIF,KAAAA,EAAOC,QAAQ,CAAA;AAAA,EAClC;AAAA;AAAA;AAAA;AAAA,EAKAE,cAAAA,GAAc;AACZ,IAAA,MAAMC,KAAAA,GAAQ,KAAKzC,QAAAA;AACnB,IAAA,MAAM2B,WAAAA,GAAc,KAAKD,cAAAA;AAEzB,IAAA,OAAO;AAAA;AAAA,cAAA,EAAA,iBAEL,IAAIzC,IAAAA,EAAI,EAAGyD,WAAAA,EAAa;;AAAA;AAAA,4BAAA,EAGpBD,MAAMnC,eAAe;AAAA,sBAAA,EACtBmC,KAAAA,CAAMnC,eAAAA,GAAkB,CAAA,GAAA,CAAKmC,KAAAA,CAAMlC,YAAAA,GAAekC,KAAAA,CAAMnC,eAAAA,GAAkB,GAAA,EAAKqC,OAAAA,CAAQ,CAAC,CAAA,GAAI,CAAC,CAAA;AAAA,4BAAA,EAC5FF,KAAAA,CAAMhC,eAAAA,CAAgBkC,OAAAA,CAAQ,CAAC,CAAC,CAAA;AAAA,yCAAA,EAC7BF,KAAAA,CAAM/B,WAAAA,CAAYiC,OAAAA,CAAQ,CAAC,CAAC,QAAQF,KAAAA,CAAM9B,WAAAA,CAAYgC,OAAAA,CAAQ,CAAC,CAAC,CAAA;AAAA,4BAAA,EAAA,CAClEF,KAAAA,CAAM7B,aAAAA,GAAgB,IAAA,EAAM+B,OAAAA,CAAQ,CAAC,CAAC,CAAA;;AAAA;AAAA,EAG/CjF,MAAAA,CAAOkF,QAAQjB,WAAW,CAAA,CAAEV,IAAI,CAAC,CAAC4B,GAAGC,CAAC,CAAA,KAAM,KAAKD,CAAC,CAAA,EAAA,EAAKC,EAAEH,OAAAA,CAAQ,CAAC,CAAC,CAAA,EAAA,CAAI,CAAA,CAAEI,IAAAA,CAAK,IAAI,CAAC;;AAAA;AAAA,EAGnFrF,OAAOkF,OAAAA,CAAQH,KAAAA,CAAM5B,qBAAqB,CAAA,CAAEI,GAAAA,CAAI,CAAC,CAAC4B,CAAAA,EAAGC,CAAC,CAAA,KAAM,CAAA,EAAA,EAAKD,CAAC,CAAA,EAAA,EAAKC,CAAC,EAAE,CAAA,CAAEC,IAAAA,CAAK,IAAI,CAAC;;AAAA;AAAA,EAGtFrF,OAAOkF,OAAAA,CAAQH,KAAAA,CAAM3B,kBAAkB,CAAA,CAAEG,GAAAA,CAAI,CAAC,CAAC4B,CAAAA,EAAGC,CAAC,CAAA,KAAM,CAAA,EAAA,EAAKD,CAAC,CAAA,EAAA,EAAKC,CAAC,EAAE,CAAA,CAAEC,IAAAA,CAAK,IAAI,CAAC;;AAAA,qBAAA,EAE7E,KAAKtF,OAAAA,CAAQM,aAAa,CAAA,KAAA,EAAQ0E,KAAAA,CAAM1B,eAAetB,MAAM;AAAA,EACnEgD,KAAAA,CAAM1B,cAAAA,CAAeiC,KAAAA,CAAM,CAAA,EAAG,CAAC,EAAE/B,GAAAA,CAAId,CAAAA,CAAAA,KACrC,CAAA,IAAA,EAAOA,CAAAA,CAAErB,SAAS,CAAA,EAAA,EAAKqB,EAAE8C,GAAG,CAAA,GAAA,EAAM9C,CAAAA,CAAExB,QAAAA,CAASgE,OAAAA,CAAQ,CAAC,CAAC,CAAA,EAAA,CAAI,CAAA,CAC3DI,IAAAA,CAAK,IAAI,CAAC;AAAA,IAAA,CAAA,CACNG,IAAAA;EACJ;AACD;;;;;;;"}