{"version":3,"file":"cache-analyzer.js","sources":["../../src/core/cache-analyzer.ts"],"sourcesContent":[null],"names":["CacheAnalyzer","constructor","cache","config","Object","defineProperty","value","Map","Date","now","enabled","sampleRate","maxRecords","recordValues","attachListeners","startAnalysis","interval","on","handleGet","bind","handleSet","handleRemove","handleError","event","shouldSample","pattern","getOrCreatePattern","key","accessCount","undefined","hitCount","missCount","updateAccessTime","recordPerformance","timestamp","engine","size","Blob","JSON","stringify","error","errorRecords","push","time","operation","type","length","slice","Math","random","accessRecords","get","avgInterval","lastAccess","set","oldestKey","keys","next","delete","duration","records","performanceRecords","setIntervalFn","window","setInterval","globalThis","analysisTimer","performAnalysis","generateReport","stats","getStats","patterns","Array","from","values","hotKeys","identifyHotKeys","coldKeys","identifyColdKeys","frequentKeys","identifyFrequentKeys","performance","calculatePerformanceMetrics","storage","analyzeStorage","suggestions","generateSuggestions","totalOps","reduce","sum","p","totalHits","hitRate","avgResponseTime","calculateAvgResponseTime","errorRate","calculateErrorRate","period","start","startTime","end","summary","totalOperations","accessPatterns","hot","cold","frequent","recentThreshold","filter","sort","a","b","coldThreshold","metrics","durations","sorted","avgDuration","minDuration","maxDuration","count","p95Duration","floor","p99Duration","results","engineStats","entries","engines","maxSize","Infinity","usage","itemCount","totalSize","avgItemSize","maxItemSize","expiredCount","severity","title","description","toFixed","recommendation","affectedKeys","map","k","coldData","slowOps","o","join","allDurations","reset","clear","destroy","clearIntervalFn","clearInterval","off","createCacheAnalyzer"],"mappings":"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"}