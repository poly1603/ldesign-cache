{"version":3,"file":"namespace-manager.js","sources":["../../src/core/namespace-manager.ts"],"sourcesContent":[null],"names":["CacheNamespace","constructor","options","Object","defineProperty","value","Map","prefix","parent","name","managerOptions","keyPrefix","inheritConfig","assign","manager","CacheManager","getPrefix","namespace","children","has","get","child","set","key","remove","getMetadata","clear","includeChildren","keys","Promise","all","map","Array","from","values","currentKeys","childKeysArrays","concat","mset","items","mget","mremove","remember","fetcher","getStats","stats","result","size","childStats","destroy","getChild","getChildren","export","filter","push","exportFull","data","childData","import","isArray","transform","itemsObj","item","entries","createNamespace"],"mappings":"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"}