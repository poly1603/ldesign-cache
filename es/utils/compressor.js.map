{"version":3,"file":"compressor.js","sources":["../../src/utils/compressor.ts"],"sourcesContent":[null],"names":["Compressor","constructor","options","Object","defineProperty","enabled","algorithm","minSize","DATA_SIZE","COMPRESSION_MIN_SIZE","level","COMPRESSION","DEFAULT_LEVEL","customCompress","customDecompress","compress","data","originalSize","Blob","size","compressedSize","ratio","compressed","gzipCompress","deflateCompress","brotliCompress","error","console","warn","decompress","gzipDecompress","deflateDecompress","brotliDecompress","Error","CompressionStream","lzCompress","encoder","TextEncoder","input","encode","compressionStream","writer","writable","getWriter","write","close","Response","readable","arrayBuffer","arrayBufferToBase64","DecompressionStream","lzDecompress","base64ToArrayBuffer","decompressionStream","Uint8Array","decompressed","TextDecoder","decode","dict","result","dictSize","w","i","length","c","charAt","wc","undefined","push","String","fromCharCode","btoa","join","atob","k","charCodeAt","entry","buffer","bytes","chunkSize","COMPRESSION_CHUNK_SIZE","chunks","chunk","subarray","Math","min","apply","Array","from","base64","binary","len","isCompressed","startsWith","entropy","calculateEntropy","COMPRESSION_ENTROPY_THRESHOLD","frequencies","char","dataLength","freq","values","p","log2","getCompressionStats","recommendedAlgorithm","PERFORMANCE_THRESHOLDS","SMALL_FILE_SIZE","estimatedRatio","NO_COMPRESSION_RATIO","TYPICAL_RATIO","potentialSavings","withCompression","cache","compressor","compressionMap","Map","proxy","create","key","bind","set","value","setOptions","serialized","JSON","stringify","get","stored","parse","has","remove","delete"],"mappings":"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"}