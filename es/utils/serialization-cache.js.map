{"version":3,"file":"serialization-cache.js","sources":["../../src/utils/serialization-cache.ts"],"sourcesContent":[null],"names":["SerializationCache","constructor","config","Object","defineProperty","cache","Map","maxSize","CACHE_SIZE","SERIALIZATION_DEFAULT","ttl","TIME_INTERVALS","SERIALIZATION_TTL_DEFAULT","enableStats","get","key","entry","misses","now","Date","timestamp","delete","accessCount","lastAccess","hits","value","set","existing","size","evictLRU","getOrSet","factory","cached","clear","evictions","firstKey","keys","next","undefined","getStats","totalRequests","hitRate","totalAccessCount","values","averageAccessCount","resetStats","Array","from","has","cleanup","cleaned","createSerializationCache","globalSerializeCache","SIZE_CACHE_LIMIT","SERIALIZATION_TTL_MAX","globalDeserializeCache","serializeWithCache","cacheKey","generateCacheKey","JSON","stringify","deserializeWithCache","serialized","parse","String","type","str","hash","i","length","char","charCodeAt"],"mappings":"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"}