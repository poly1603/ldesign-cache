{"version":3,"file":"event-throttle.js","sources":["../../src/utils/event-throttle.ts"],"sourcesContent":[null],"names":["ThrottledEventEmitter","constructor","config","Object","defineProperty","listeners","Map","batchListeners","queues","timers","batchSize","BATCH_CONFIG","DEFAULT_SIZE","flushInterval","TIME_INTERVALS","EVENT_FLUSH_DEFAULT","enabled","on","event","handler","has","set","Set","get","add","onBatch","off","delete","offBatch","emit","data","triggerListeners","push","length","flush","scheduleFlush","queue","timer","clearTimeout","batch","events","timestamp","Date","now","size","triggerBatchListeners","eventData","flushAll","keys","setTimeout","handlers","result","Promise","catch","error","console","clear","values","getStats","totalListeners","totalBatchListeners","totalQueued","queuedEvents","activeTimers","updateConfig","assign","getConfig","destroy","createThrottledEmitter","throttle","fn","options","item","debounce","delay","args"],"mappings":"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"}